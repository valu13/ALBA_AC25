<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ALBA - Agua Viva</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --green-dark: #1b4332;
      --green-medium: #2d6a4f;
      --green-light: #95d5b2;
      --green-lighter: #d8f3dc;
      --white: #ffffff;
      --blue-route: #1e88e5;
      --red-leak: #e53935;
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--white);
      background: linear-gradient(135deg, #0d2b1e 0%, #1b4332 100%);
      line-height: 1.6;
      padding-bottom: 0;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 10% 20%, rgba(45, 106, 79, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(29, 53, 42, 0.1) 0%, transparent 20%);
      z-index: -1;
    }

    .water-pattern {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle, rgba(149, 213, 178, 0.05) 1px, transparent 1px),
        radial-gradient(circle, rgba(149, 213, 178, 0.04) 1px, transparent 1px);
      background-size: 40px 40px, 80px 80px;
      z-index: -1;
    }

    header {
      background-color: rgba(29, 73, 53, 0.95);
      padding: 15px 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: blur(5px);
      border-bottom: 1px solid rgba(149, 213, 178, 0.3);
    }

    .header-content {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .custom-logo {
      height: 50px;
      width: auto;
      border-radius: 8px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
    }

    .custom-logo:hover {
      transform: scale(1.05);
    }

    .header-content h1 {
      font-size: 1.6rem;
      letter-spacing: 1px;
      margin: 0;
      color: var(--green-light);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      font-weight: 600;
    }

    .nav-links {
      display: flex;
      gap: 15px;
    }

    .nav-links a {
      color: var(--green-light);
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 5px;
      transition: all 0.3s;
      font-size: 0.9rem;
      background: rgba(149, 213, 178, 0.1);
      border: 1px solid rgba(149, 213, 178, 0.2);
    }

    .nav-links a:hover {
      background-color: rgba(149, 213, 178, 0.3);
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .lang-button {
      display: block;
      margin: 20px auto;
      padding: 12px 30px;
      font-size: 16px;
      background: linear-gradient(135deg, var(--green-light), #b7efc5);
      color: var(--green-dark);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .lang-button::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: 0.5s;
    }

    .lang-button:hover::before {
      left: 100%;
    }

    .lang-button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    section {
      max-width: 1400px;
      margin: 30px auto;
      padding: 30px;
      background: rgba(21, 48, 38, 0.8);
      border-radius: 16px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(149, 213, 178, 0.3);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    section::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--green-light), transparent);
    }

    section h2 {
      font-size: 2rem;
      margin-bottom: 25px;
      padding-bottom: 12px;
      color: var(--green-light);
      position: relative;
      font-weight: 700;
    }

    section h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100px;
      height: 4px;
      background: linear-gradient(90deg, var(--green-light), transparent);
      border-radius: 3px;
    }

    section p {
      font-size: 1.1rem;
      margin-bottom: 20px;
      line-height: 1.8;
      color: var(--green-lighter);
    }

    .image-container {
      width: 100%;
      margin-top: 25px;
      text-align: center;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow);
      position: relative;
      border: 1px solid rgba(149, 213, 178, 0.2);
    }

    .image-container img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform 0.5s ease;
    }

    .image-container:hover img {
      transform: scale(1.03);
    }

    #map-section {
      padding: 0;
      height: calc(100vh - 150px);
      max-height: 800px;
      margin: 30px auto;
      display: flex;
      flex-direction: column;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    #map-header {
      padding: 20px;
      background: rgba(29, 53, 42, 0.9);
      border-bottom: 1px solid rgba(149, 213, 178, 0.2);
    }

    #map-header h2 {
      margin-bottom: 15px;
    }

    #map-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 15px;
    }

    .control-group {
      flex: 1;
      min-width: 220px;
    }

    .control-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--green-light);
      font-size: 0.9rem;
    }

    .control-group input, .control-group select {
      width: 100%;
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid #2d6a4f;
      background-color: rgba(255, 255, 255, 0.95);
      font-family: inherit;
      font-size: 0.9rem;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .btn-group {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      font-family: inherit;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      font-size: 0.9rem;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--green-light), #b7efc5);
      color: var(--green-dark);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #5c7cfa, #4c6ef5);
      color: white;
    }

    .btn-secondary:hover {
      background: linear-gradient(135deg, #4c6ef5, #3b5bdb);
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    }

    #arcgis-container {
      flex: 1;
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    #arcgis-map {
      width: 100%;
      height: 100%;
      border: none;
    }

    .map-overlay {
      position: absolute;
      bottom: 20px;
      left: 20px;
      background: rgba(29, 53, 42, 0.85);
      padding: 15px;
      border-radius: 12px;
      border: 1px solid rgba(149, 213, 178, 0.3);
      z-index: 1000;
      max-width: 300px;
      box-shadow: var(--shadow);
    }

    .legend {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      background: rgba(29, 53, 42, 0.7);
      border-radius: 20px;
      border: 1px solid rgba(149, 213, 178, 0.2);
    }

    .legend-color {
      width: 18px;
      height: 18px;
      border-radius: 50%;
    }

    .metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .metric-card {
      background: rgba(29, 53, 42, 0.8);
      padding: 25px;
      border-radius: 12px;
      text-align: center;
      border: 1px solid rgba(149, 213, 178, 0.3);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .metric-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--green-light), transparent);
    }

    .metric-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
    }

    .metric-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--green-light);
      margin: 15px 0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .metric-label {
      font-size: 1rem;
      opacity: 0.9;
      letter-spacing: 0.5px;
      color: var(--green-lighter);
    }

    .chart-container {
      height: 350px;
      margin: 25px 0;
      background: rgba(29, 53, 42, 0.7);
      padding: 20px;
      border-radius: 12px;
      border: 1px solid rgba(149, 213, 178, 0.2);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .route-info {
      margin: 25px 0;
      padding: 25px;
      background: rgba(29, 53, 42, 0.7);
      border-radius: 12px;
      border: 1px solid rgba(149, 213, 178, 0.2);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .route-info h3 {
      color: var(--green-light);
      margin-bottom: 18px;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .footer {
      text-align: center;
      padding: 30px;
      color: var(--green-light);
      font-size: 1rem;
      background: rgba(29, 53, 42, 0.8);
      border-top: 1px solid rgba(149, 213, 178, 0.2);
    }

    .water-icon {
      display: inline-block;
      margin: 0 5px;
      animation: waterDrop 2s infinite;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    }

    @keyframes waterDrop {
      0% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-8px) scale(1.1); }
      100% { transform: translateY(0) scale(1); }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(149, 213, 178, 0.4); }
      70% { box-shadow: 0 0 0 15px rgba(149, 213, 178, 0); }
      100% { box-shadow: 0 0 0 0 rgba(149, 213, 178, 0); }
    }

    @media (max-width: 992px) {
      #map-section {
        height: calc(100vh - 100px);
      }
    }

    @media (max-width: 768px) {
      header {
        flex-direction: column;
        padding: 15px;
      }

      .nav-links {
        margin-top: 15px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .header-content h1 {
        font-size: 1.4rem;
      }

      section {
        padding: 20px;
        margin: 20px 15px;
      }

      #map-controls {
        flex-direction: column;
      }

      .btn {
        padding: 10px 15px;
        font-size: 0.85rem;
      }

      .map-overlay {
        left: 10px;
        right: 10px;
        bottom: 10px;
        max-width: none;
      }
    }
  </style>
</head>
<body>
  <div class="water-pattern"></div>

  <!-- Encabezado del logo login logito logoso-->
  <header>
    <div class="header-content">
      <div class="logo-container">
        <!-- Logo personalizado -->
        <img class="custom-logo" src="logo.PNG" alt="Logo personalizado">
        <!-- Logo ALBA -->
        <img class="custom-logo" src="achieved.png" alt="Logo ALBA">
        <h1 id="title">ALBA - Agua Viva</h1>
      </div>
      <div class="nav-links">
        <a href="#mission-section"><i class="fas fa-bullseye"></i> Misi칩n</a>
        <a href="#map-section"><i class="fas fa-map-marked-alt"></i> Mapa</a>
        <a href="#results-section"><i class="fas fa-chart-line"></i> Resultados</a>
        <a href="#analysis-section"><i class="fas fa-satellite"></i> An치lisis</a>
      </div>
    </div>
  </header>

  <!-- Bot칩n de idioma -->
  <button class="lang-button pulse" onclick="toggleLanguage()"><i class="fas fa-language"></i> Cambiar a ingl칠s</button>

  <!-- Misi칩n -->
  <section id="mission-section">
    <h2 id="mission-title"><i class="fas fa-bullseye"></i> Nuestra Misi칩n</h2>
    <p id="mission-text">
      Desarrollamos soluciones innovadoras para la gesti칩n sostenible del agua mediante tecnolog칤as avanzadas. Nuestro sistema combina im치genes satelitales y an치lisis de datos para optimizar la construcci칩n de tuber칤as, reducir p칠rdidas por fugas y garantizar un suministro eficiente en cualquier regi칩n promoviendo un medio sustentable por medio del principio de caudal ecologico.
    </p>
    <div class="image-container">
      <img src="mexicoespacio.png" alt="Infraestructura hidr치ulica">
    </div>
  </section>

  <!-- Secci칩n del Mapa - Ahora ocupa toda la secci칩n -->
  <section id="map-section">
    <div id="map-header">
      <h2 id="optimizer-title"><i class="fas fa-route"></i> Optimizador de Rutas para Tuber칤as</h2>
      <p id="optimizer-text">
        Utiliza nuestra herramienta integrada con ArcGIS para visualizar y analizar rutas de tuber칤as considerando elevaci칩n, tipo de terreno y distancia.
      </p>

      <div id="map-controls">
        <div class="control-group">
          <label for="start-point"><i class="fas fa-map-marker-alt"></i> Punto de Inicio (Lat, Lng)</label>
          <input type="text" id="start-point" value="19.4326, -99.1332">
        </div>

        <div class="control-group">
          <label for="end-point"><i class="fas fa-flag-checkered"></i> Punto de Fin (Lat, Lng)</label>
          <input type="text" id="end-point" value="19.3400, -99.1170">
        </div>

        <div class="control-group">
          <label for="terrain-type"><i class="fas fa-mountain"></i> Tipo de Terreno</label>
          <select id="terrain-type">
            <option value="flat">Plano</option>
            <option value="hilly">Monta침oso</option>
            <option value="mixed" selected>Mixto</option>
            <option value="urban">Urbano</option>
          </select>
        </div>

        <div class="control-group">
          <label for="pipe-diameter"><i class="fas fa-pipe"></i> Di치metro de Tuber칤a (cm)</label>
          <input type="number" id="pipe-diameter" value="30" min="10" max="100">
        </div>

        <div class="btn-group">
          <button class="btn btn-primary" onclick="setStartPoint()"><i class="fas fa-dot-circle"></i> Establecer Inicio</button>
          <button class="btn btn-primary" onclick="setEndPoint()"><i class="fas fa-flag"></i> Establecer Fin</button>
          <button class="btn btn-secondary" onclick="calculateOptimalRoute()"><i class="fas fa-calculator"></i> Calcular Ruta</button>
          <button class="btn btn-secondary" onclick="compareWithCurrent()"><i class="fas fa-exchange-alt"></i> Comparar Rutas</button>
        </div>
      </div>
    </div>

    <div id="arcgis-container">
      <iframe id="arcgis-map"
              src="https://unam-edu.maps.arcgis.com/apps/instant/observer/index.html?appid=a39cd80a70b04433afada7510a76fe96"
              frameborder="0"
              allowfullscreen>
        No se admiten iFrames en esta p치gina.
      </iframe>



    </div>
  </section>

  <!-- Resultados y M칠tricas -->
  <section id="results-section">
    <h2 id="results-title"><i class="fas fa-chart-line"></i> Resultados y M칠tricas</h2>

    <div class="metrics">
      <div class="metric-card">
        <div class="metric-label"><i class="fas fa-ruler"></i> Longitud de Tuber칤a</div>
        <div class="metric-value" id="pipe-length">-- km</div>
      </div>
      <div class="metric-card">
        <div class="metric-label"><i class="fas fa-money-bill-wave"></i> Costo Estimado</div>
        <div class="metric-value" id="estimated-cost">-- MXN</div>
      </div>
      <div class="metric-card">
        <div class="metric-label"><i class="fas fa-tint"></i> Ahorro de Agua</div>
        <div class="metric-value" id="water-saving">-- %</div>
      </div>
      <div class="metric-card">
        <div class="metric-label"><i class="fas fa-wrench"></i> Reducci칩n de P칠rdidas</div>
        <div class="metric-value" id="leak-reduction">-- %</div>
      </div>
    </div>

    <div class="route-info">
      <h3 id="route-analysis-title"><i class="fas fa-chart-bar"></i> An치lisis de Ruta</h3>
      <p id="route-analysis">Seleccione puntos de inicio y fin, luego haga clic en "Calcular Ruta 칍ptima" para ver el an치lisis detallado. La ruta 칩ptima se calcula utilizando algoritmos avanzados que consideran m칰ltiples factores como topograf칤a, tipo de suelo y costos de construcci칩n.</p>
    </div>

    <div class="chart-container">
      <canvas id="route-chart"></canvas>
    </div>
  </section>

  <!-- An치lisis de Datos -->
  <section id="analysis-section">
    <h2 id="analysis-title"><i class="fas fa-satellite"></i> An치lisis de Datos Satelitales</h2>
    <p id="analysis-text">
      Nuestra plataforma integra datos de m칰ltiples fuentes satelitales para proporcionar informaci칩n detallada sobre humedad del suelo, vegetaci칩n y topograf칤a. Utilizamos im치genes de alta resoluci칩n combinadas con algoritmos de aprendizaje autom치tico para detectar patrones y optimizar la planificaci칩n de infraestructura.
    </p>

    <div class="image-container">
      <img src="background.png" alt="Datos satelitales">
    </div>
  </section>

  <!-- Footer -->
  <div class="footer">
    <p><i class="fas fa-water"></i> ALBA - Agua Viva <span class="water-icon">游눦</span> Innovando para un futuro con agua sostenible</p>
    <p>&copy; 2025 Todos los derechos reservados</p>
  </div>

  <!-- Script del sistema -->
  <script>
    let currentLang = "es";
    let chart = null;

    // Inicializar gr치fico de comparaci칩n
    function initChart() {
      const ctx = document.getElementById('route-chart').getContext('2d');
      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Longitud (km)', 'Costo (millones MXN)', 'P칠rdidas (%)', 'Tiempo (d칤as)'],
          datasets: [{
            label: 'Ruta Actual',
            data: [0, 0, 0, 0],
            backgroundColor: 'rgba(255, 152, 0, 0.7)',
            borderColor: 'rgba(255, 152, 0, 1)',
            borderWidth: 1
          }, {
            label: 'Ruta 칍ptima',
            data: [0, 0, 0, 0],
            backgroundColor: 'rgba(30, 136, 229, 0.7)',
            borderColor: 'rgba(30, 136, 229, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Valor'
              },
              grid: {
                color: 'rgba(149, 213, 178, 0.1)'
              },
              ticks: {
                color: '#95d5b2'
              }
            },
            x: {
              grid: {
                color: 'rgba(149, 213, 178, 0.1)'
              },
              ticks: {
                color: '#95d5b2'
              }
            }
          },
          plugins: {
            legend: {
              labels: {
                color: '#95d5b2'
              }
            },
            title: {
              display: true,
              text: 'Comparaci칩n de Rutas',
              color: '#95d5b2',
              font: {
                size: 18
              }
            }
          }
        }
      });
    }

    // Establecer punto de inicio
    function setStartPoint() {
      alert("Para establecer el punto de inicio, por favor seleccione una ubicaci칩n en el mapa de ArcGIS.");
    }

    // Establecer punto de fin
    function setEndPoint() {
      alert("Para establecer el punto final, por favor seleccione una ubicaci칩n en el mapa de ArcGIS.");
    }

    // Calcular ruta 칩ptima
    function calculateOptimalRoute() {
      // Simular c치lculo de ruta 칩ptima
      const startPoint = document.getElementById('start-point').value.split(',').map(Number);
      const endPoint = document.getElementById('end-point').value.split(',').map(Number);

      if (startPoint.length !== 2 || endPoint.length !== 2) {
        alert("Por favor ingrese puntos de inicio y fin v치lidos.");
        return;
      }

      // Simular resultados
      const optimalLength = (Math.random() * 20 + 15).toFixed(2); // 15-35 km
      const currentLength = (optimalLength * 1.2).toFixed(2); // 30% m치s largo

      const costPerKm = 200000; // MXN por km
      const optimalCost = (optimalLength * costPerKm).toLocaleString('es-MX');
      const currentCost = (currentLength * costPerKm).toLocaleString('es-MX');

      // Actualizar m칠tricas
      document.getElementById('pipe-length').textContent = `${optimalLength} km`;
      document.getElementById('estimated-cost').textContent = `$${optimalCost} MXN`;
      document.getElementById('water-saving').textContent = `${(15 + Math.random() * 10).toFixed(1)}%`;
      document.getElementById('leak-reduction').textContent = `${(30 + Math.random() * 15).toFixed(1)}%`;

      // Actualizar an치lisis
      const terrainType = document.getElementById('terrain-type').value;
      document.getElementById('route-analysis').textContent =
        `La ruta 칩ptima evita 치reas de alto riesgo y reduce la longitud en ${(currentLength - optimalLength).toFixed(2)} km.
        En terreno ${getTerrainName(terrainType)}, esto representa un ahorro de aproximadamente $${((currentLength - optimalLength) * costPerKm).toLocaleString('es-MX')} MXN.
        Adem치s, se prev칠 una reducci칩n del 30% en las p칠rdidas por fugas y un ahorro significativo en tiempo de construcci칩n.`;

      // Actualizar gr치fico
      updateChart(optimalLength, currentLength, optimalCost.replace(/,/g, ''), currentCost.replace(/,/g, ''));
    }

    // Actualizar gr치fico con datos
    function updateChart(optimalLength, currentLength, optimalCost, currentCost) {
      chart.data.datasets[0].data = [
        parseFloat(currentLength),
        parseFloat(currentCost) / 1000000,
        35 + Math.random() * 15,
        120 + Math.random() * 30
      ];

      chart.data.datasets[1].data = [
        parseFloat(optimalLength),
        parseFloat(optimalCost) / 1000000,
        10 + Math.random() * 10,
        80 + Math.random() * 20
      ];

      chart.update();
    }

    // Comparar con ruta actual
    function compareWithCurrent() {
      alert("La funci칩n de comparaci칩n requiere que se calcule primero una ruta 칩ptima. Utilizando nuestros algoritmos avanzados, podemos mostrar una comparaci칩n detallada entre la ruta actual y la propuesta.");
    }

    // Obtener nombre del terreno
    function getTerrainName(type) {
      const names = {
        'flat': 'plano',
        'hilly': 'monta침oso',
        'mixed': 'mixto',
        'urban': 'urbano'
      };
      return names[type] || type;
    }

    // Cambiar idioma
    function toggleLanguage() {
      const button = document.querySelector(".lang-button");
      const missionTitle = document.getElementById("mission-title");
      const missionText = document.getElementById("mission-text");
      const optimizerTitle = document.getElementById("optimizer-title");
      const optimizerText = document.getElementById("optimizer-text");
      const resultsTitle = document.getElementById("results-title");
      const analysisTitle = document.getElementById("analysis-title");
      const analysisText = document.getElementById("analysis-text");
      const legendOptimal = document.getElementById("legend-optimal");
      const legendCurrent = document.getElementById("legend-current");
      const legendLeak = document.getElementById("legend-leak");
      const routeAnalysisTitle = document.getElementById("route-analysis-title");
      const routeAnalysis = document.getElementById("route-analysis");

      if (currentLang === "es") {
        // Cambiar a ingl칠s
        missionTitle.innerHTML = '<i class="fas fa-bullseye"></i> Our Mission';
        missionText.textContent = "We develop innovative solutions for sustainable water management using advanced technologies. Our system combines satellite imagery and data analysis to optimize pipeline construction, reduce leak losses, and ensure efficient supply in any region by promoting a sustainable environment through the ecological flow principle.";
        optimizerTitle.innerHTML = '<i class="fas fa-route"></i> Pipeline Route Optimizer';
        optimizerText.textContent = "Use our integrated ArcGIS tool to visualize and analyze pipeline routes considering elevation, terrain type, and distance.";
        resultsTitle.innerHTML = '<i class="fas fa-chart-line"></i> Results and Metrics';
        analysisTitle.innerHTML = '<i class="fas fa-satellite"></i> Satellite Data Analysis';
        analysisText.textContent = "Our platform integrates data from multiple satellite sources to provide detailed information on soil moisture, vegetation, and topography. We use high-resolution images combined with machine learning algorithms to detect patterns and optimize infrastructure planning.";
        legendOptimal.textContent = "Optimal Route";
        legendCurrent.textContent = "Current Route";
        legendLeak.textContent = "Risk Areas";
        routeAnalysisTitle.innerHTML = '<i class="fas fa-chart-bar"></i> Route Analysis';
        routeAnalysis.textContent = routeAnalysis.textContent.replace("La ruta 칩ptima", "The optimal route").replace("km", "km").replace("MXN", "MXN");
        button.innerHTML = '<i class="fas fa-language"></i> Switch to Spanish';
        currentLang = "en";
      } else {
        // Cambiar a espa침ol
        missionTitle.innerHTML = '<i class="fas fa-bullseye"></i> Nuestra Misi칩n';
        missionText.textContent = "Desarrollamos soluciones innovadoras para la gesti칩n sostenible del agua mediante tecnolog칤as avanzadas. Nuestro sistema combina im치genes satelitales y an치lisis de datos para optimizar la construcci칩n de tuber칤as, reducir p칠rdidas por fugas y garantizar un suministro eficiente en cualquier regi칩n.";
        optimizerTitle.innerHTML = '<i class="fas fa-route"></i> Optimizador de Rutas para Tuber칤as';
        optimizerText.textContent = "Utiliza nuestra herramienta integrada con ArcGIS para visualizar y analizar rutas de tuber칤as considerando elevaci칩n, tipo de terreno y distancia.";
        resultsTitle.innerHTML = '<i class="fas fa-chart-line"></i> Resultados y M칠tricas';
        analysisTitle.innerHTML = '<i class="fas fa-satellite"></i> An치lisis de Datos Satelitales';
        analysisText.textContent = "Nuestra plataforma integra datos de m칰ltiples fuentes satelitales para proporcionar informaci칩n detallada sobre humedad del suelo, vegetaci칩n y topograf칤a. Utilizamos im치genes de alta resoluci칩n combinadas con algoritmos de aprendizaje autom치tico para detectar patrones y optimizar la planificaci칩n de infraestructura.";
        legendOptimal.textContent = "Ruta 칍ptima";
        legendCurrent.textContent = "Ruta Actual";
        legendLeak.textContent = "Zonas de Riesgo";
        routeAnalysisTitle.innerHTML = '<i class="fas fa-chart-bar"></i> An치lisis de Ruta';
        routeAnalysis.textContent = routeAnalysis.textContent.replace("The optimal route", "La ruta 칩ptima").replace("km", "km").replace("MXN", "MXN");
        button.innerHTML = '<i class="fas fa-language"></i> Cambiar a ingl칠s';
        currentLang = "es";
      }
    }

    // Inicializar el gr치fico cuando la p치gina cargue
    window.onload = function() {
      initChart();

      // Simular datos iniciales para el gr치fico
      setTimeout(() => {
        updateChart(18.5, 24.3, 9250000, 12150000);
      }, 1000);
    };
  </script>
</body>
</html>
